!function(a){"use strict";var b=a.module("webApp",["ui.router","ui.bootstrap"]);b.factory("appConfig",[function(){function a(){return"development"}var b={production:{},development:{name:"isentia-angular-challenge",version:"0.0.1",author:"Sandor Agafonoff",license:"MIT License"}};return b[a()]}]),b.run(["$location","$state","$rootScope","$timeout","$window","appConfig",function(a,b,c,d,e,f){c.appConfig=f}])}(window.angular),function(a){"use strict";a.module("webApp").directive("ngRepeatComplete",["$rootScope","$timeout",function(a,b){return{restrict:"A",link:function(c,d,e){c.$last&&b(function(){a.$broadcast(e.ngRepeatComplete,!0)})}}}])}(window.angular),function(a){"use strict";a.module("webApp").controller("appController",["$scope",function(a){a.test="hello"}])}(window.angular),function(a){"use strict";a.module("webApp").controller("puzzleController",["$scope","$rootScope",function(a,b){a.start=function(){b.$broadcast("puzzle.start")}}])}(window.angular),function(a){"use strict";a.module("webApp").directive("puzzle",["$rootScope","$timeout","puzzleFactory",function(a,b,c){return{restrict:"E",link:function(a,b,d){var e=+d.rows,f=+d.pieces,g=+d.width,h=d.board,i=c.instance(e,f,g,h),j=i.generate();b.append(j),a.$on("puzzle.start",function(){i.shuffle()})}}}])}(window.angular),function(a,b){"use strict";a.module("webApp").factory("puzzleFactory",["$rootScope",function(b){function c(b,c,d,e){this.rows=b,this.pieces=c,this.width=d,this.board=e,this.container=null,this.img=null,this.startingOrder=[],this.createBoard=function(){this.img=a.element("<img />")[0],this.img.onload=this.createPieces.bind(this),this.img.style.width=this.width+"px",this.img.src=this.board},this.createContainer=function(){this.container=a.element("<div />"),this.container[0].style.width=this.width+"px",this.container[0].style.height=this.width+"px",this.container[0].className="m-0-auto fs-0"},this.createPieces=function(){for(var b=this.width/this.rows,c={width:b,height:b},d=0,e=0,f=1;f<=this.pieces;f++){var g=a.element("<div />");g[0].style.width=c.width+"px",g[0].style.height=c.height+"px",g[0].className="inline-block",g[0].style.backgroundImage="url("+this.board+")",g[0].style.backgroundRepeat="no-repeat",g[0].style.backgroundSize=this.width+"px "+this.width+"px";var h=e*c.width,i=d*c.height;g[0].style.backgroundPosition="-"+h+"px -"+i+"px",this.container.append(g),this.startingOrder.push(g),f&&f%3===0?(d++,e=0):e++}}}return c.prototype.generate=function(){return this.createContainer(),this.createBoard(),this.container},c.prototype.shuffle=function(){for(var a=this.container[0],b=a.children.length;b>=0;b--)a.appendChild(a.children[Math.random()*b|0])},{instance:function(a,b,d,e){return new c(a,b,d,e)}}}])}(window.angular,$),function(a){"use strict";a.module("webApp").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),a.state("app",{"abstract":!0,templateUrl:"./views/components/app/app.html",controller:"appController"}).state("app.puzzle",{url:"/",templateUrl:"./views/components/puzzle/puzzle.html",controller:"puzzleController"}),c.html5Mode(!0)}])}(window.angular);